{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/views/Import.vue?82b5","webpack:///src/views/Import.vue","webpack:///./src/views/Import.vue?5258","webpack:///./src/views/Import.vue","webpack:///./node_modules/core-js/internals/dom-iterables.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","render","_vm","_h","$createElement","_c","_self","_v","attrs","on","change_file","model","value","callback","$$v","file","expression","check_json","parsing_resume","disable_upload","upload_json","staticClass","_s","result_label","parsing_results","staticRenderFns","name","data","methods","fr","onload","parsed","JSON","parse","e","result","settings","readAsText","console","log","response","component","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-1e01d261.6f458378.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-subheader',[_vm._v(\"Import from JSON\")]),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-card',[_c('v-card-subtitle',[_vm._v(\"Stage 1. Choose file and check it's content\")]),_c('v-card-text',[_c('v-file-input',{attrs:{\"solo\":\"\",\"show-size\":\"\",\"label\":\"Choose file\",\"accept\":\".json\"},on:{\"change\":_vm.change_file},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"disabled\":_vm.file==undefined,\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.check_json}},[_vm._v(\"Check file\")])],1)],1)],1),_c('v-col',[_c('v-card',[_c('v-card-subtitle',[_vm._v(\"Stage 2. Upload file and write data to database\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"single-line\":\"\",\"solo\":\"\",\"value\":_vm.parsing_resume}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"disabled\":_vm.disable_upload,\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.upload_json}},[_vm._v(\"Upload data\")])],1)],1)],1)],1),_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-subtitle',[_vm._v(_vm._s(_vm.result_label))]),_c('v-card-text',[_c('div',{staticClass:\"text--primary\"},[_c('pre',[_vm._v(_vm._s(_vm.parsing_results))])])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-subheader>Import from JSON</v-subheader>\n    <v-container fluid>\n      <v-row dense>\n        <v-col>\n          <v-card>\n            <v-card-subtitle>Stage 1. Choose file and check it's content</v-card-subtitle>\n            <v-card-text>\n              <v-file-input \n                solo \n                show-size \n                label=\"Choose file\" \n                v-model=\"file\" \n                accept=\".json\"\n                @change=\"change_file\"\n              >\n              </v-file-input>\n            </v-card-text>\n            <v-card-actions>\n              <v-btn :disabled=\"file==undefined\" small color=\"primary\" @click=\"check_json\">Check file</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n        <v-col>\n          <v-card>\n            <v-card-subtitle>Stage 2. Upload file and write data to database</v-card-subtitle>\n            <v-card-text>\n              <v-text-field\n                single-line\n                solo\n                :value=\"parsing_resume\"\n              ></v-text-field>\n            </v-card-text>\n            <v-card-actions>\n              <v-btn :disabled=\"disable_upload\" small color=\"primary\" @click=\"upload_json\">Upload data</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-card class=\"mt-2\">\n        <v-card-subtitle>{{ result_label }}</v-card-subtitle>\n        <v-card-text>\n          <div class=\"text--primary\"><pre>{{ parsing_results }}</pre></div>\n        </v-card-text>\n      </v-card>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'Import',\n  data: () => ({\n    file: undefined,\n    parsing_resume: '',\n    parsing_results: '',\n    result_label: 'Results of parsing JSON file',\n    disable_upload: true,\n    json_data: {}\n  }),\n  methods: {\n    check_json: function() {\n      let fr = new FileReader();\n      fr.onload = (e) => {\n        let parsed = {}\n        // check file\n        try {\n          parsed = JSON.parse(e.target.result);\n        }\n        catch (error) {\n          this.parsing_results = 'Sorry, bad file.\\n'+ error;\n          return;\n        }\n\n        // look for settings in file\n        \n        if (parsed['settings'] != undefined) {\n          if (parsed.settings['delete_all_items_before_upload'] != undefined && parsed.settings['delete_all_items_before_upload']) {\n            this.parsing_results = 'All items will be removed from database before uploading!\\n';\n          }\n          if (parsed.settings['replace_item_with_same_name'] != undefined && parsed.settings['replace_item_with_same_name']) {\n            this.parsing_results = 'Items with same name will be replaced!\\n';\n          }\n        }\n\n        if (parsed['devices'].length > 0) {\n          this.parsing_resume = 'Devices for uploading: ' + parsed['devices'].length;\n          this.parsing_results += 'Devices for uploading: ' + parsed['devices'].length;\n          this.disable_upload = false\n        } else {\n          this.parsing_results = 'Sorry, bad file. Devices does not found!';\n        }\n        this.json_data = parsed;\n      }\n      fr.readAsText(this.file)\n    },\n    upload_json: function() {\n      const formatted = JSON.stringify(this.json_data, null, 2);\n      axios.post('backend/import_json', formatted)\n      .then((response) => {\n        console.log(response);\n        if (response['status'] == 200) {\n          if (response['data'].length > 0) {\n            this.result_label = 'Results of uploading JSON file'\n            this.parsing_results = \"\"\n            response['data'].forEach(element => {this.parsing_results += element + '\\n'});\n          }\n        }\n      })\n      .catch((error) => {\n        console.log('error');\n        console.log(error);\n      })\n    },\n    change_file: function() {\n      this.parsing_resume = '';\n      this.parsing_results = '';\n      this.result_label = 'Results of parsing JSON file'\n      this.disable_upload = true;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Import.vue?vue&type=template&id=7b52175e&\"\nimport script from \"./Import.vue?vue&type=script&lang=js&\"\nexport * from \"./Import.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}