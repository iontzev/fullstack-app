(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e01d261"],{"159b":function(e,t,s){var a=s("da84"),i=s("fdbc"),r=s("17c2"),l=s("9112");for(var n in i){var o=a[n],c=o&&o.prototype;if(c&&c.forEach!==r)try{l(c,"forEach",r)}catch(d){c.forEach=r}}},"17c2":function(e,t,s){"use strict";var a=s("b727").forEach,i=s("a640"),r=s("ae40"),l=i("forEach"),n=r("forEach");e.exports=l&&n?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,s){"use strict";var a=s("23e7"),i=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},7989:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",[e._v("Import from JSON")]),s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{dense:""}},[s("v-col",[s("v-card",[s("v-card-subtitle",[e._v("Stage 1. Choose file and check it's content")]),s("v-card-text",[s("v-file-input",{attrs:{solo:"","show-size":"",label:"Choose file",accept:".json"},on:{change:e.change_file},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),s("v-card-actions",[s("v-btn",{attrs:{disabled:void 0==e.file,small:"",color:"primary"},on:{click:e.check_json}},[e._v("Check file")])],1)],1)],1),s("v-col",[s("v-card",[s("v-card-subtitle",[e._v("Stage 2. Upload file and write data to database")]),s("v-card-text",[s("v-text-field",{attrs:{"single-line":"",solo:"",value:e.parsing_resume}})],1),s("v-card-actions",[s("v-btn",{attrs:{disabled:e.disable_upload,small:"",color:"primary"},on:{click:e.upload_json}},[e._v("Upload data")])],1)],1)],1)],1),s("v-card",{staticClass:"mt-2"},[s("v-card-subtitle",[e._v(e._s(e.result_label))]),s("v-card-text",[s("div",{staticClass:"text--primary"},[s("pre",[e._v(e._s(e.parsing_results))])])])],1)],1)],1)},i=[],r=(s("4160"),s("159b"),s("bc3a")),l=s.n(r),n={name:"Import",data:function(){return{file:void 0,parsing_resume:"",parsing_results:"",result_label:"Results of parsing JSON file",disable_upload:!0,json_data:{}}},methods:{check_json:function(){var e=this,t=new FileReader;t.onload=function(t){var s={};try{s=JSON.parse(t.target.result)}catch(a){return void(e.parsing_results="Sorry, bad file.\n"+a)}void 0!=s["settings"]&&(void 0!=s.settings["delete_all_items_before_upload"]&&s.settings["delete_all_items_before_upload"]&&(e.parsing_results="All items will be removed from database before uploading!\n"),void 0!=s.settings["replace_item_with_same_name"]&&s.settings["replace_item_with_same_name"]&&(e.parsing_results="Items with same name will be replaced!\n")),s["devices"].length>0?(e.parsing_resume="Devices for uploading: "+s["devices"].length,e.parsing_results+="Devices for uploading: "+s["devices"].length,e.disable_upload=!1):e.parsing_results="Sorry, bad file. Devices does not found!",e.json_data=s},t.readAsText(this.file)},upload_json:function(){var e=this,t=JSON.stringify(this.json_data,null,2);l.a.post("backend/import_json",t).then((function(t){console.log(t),200==t["status"]&&t["data"].length>0&&(e.result_label="Results of uploading JSON file",e.parsing_results="",t["data"].forEach((function(t){e.parsing_results+=t+"\n"})))})).catch((function(e){console.log("error"),console.log(e)}))},change_file:function(){this.parsing_resume="",this.parsing_results="",this.result_label="Results of parsing JSON file",this.disable_upload=!0}}},o=n,c=s("2877"),d=Object(c["a"])(o,a,i,!1,null,null,null);t["default"]=d.exports},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-1e01d261.6f458378.js.map